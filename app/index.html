<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tiles</title>
  <link rel="stylesheet" href="stylesheets/index.css">
  <script type="text/javascript" src="javascripts/index.js"></script>
</head>
<body>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Tiles</a>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Import <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="#">JSON</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Export <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="#" id='export-to-json'>JSON</a></li>
              <li><a href="#">PNG</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Add <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a id='add-scene' href="#">Scene</a></li>
              <li><a id='add-floor' href="#">Floor</a></li>
              <li><a id='add-tileset' href="#">TileSet</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="row">
      <div id='sidebar' class="col-md-2">
        <ul class="nav nav-tabs">
          <li class='active'><a href="#scenes" data-toggle='tab'>Scenes</a></li>
          <li><a href="#history" data-toggle='tab'>History</a></li>
        </ul>
        <div class="tab-content" id='sidebar-containers'>
          <li class="tab-pane active" id='scenes'>
            <ul class="nav nav-pills nav-stacked" id='scene-tabs'></ul>
          </li>
          <li class="tab-pane" id='history'>history goes here</li>
        </div>
      </div>
      <div id='floors' class="col-md-6">
        <div class="tab-content" id='scene-containers'></div>
      </div>
      <div id='tilesets' class="col-md-4">
        <ul id='tileset-tabs' class="nav nav-tabs"></ul>
        <ul id='tileset-containers' class='tab-content'></ul>
      </div>
    </div>
  </div>

  <!-- TEMPLATES -->
  <script id='tileset-tab' type='text/x-jrender'>
    <li data-model-id='{{:id}}' data-model-name='TileSet'><a href="#{{:id}}" data-toggle="tab">{{:name}}</a></li>
  </script>

  <script id='tileset-container' type='text/x-jrender'>
    <li class='tab-pane tileset-container' data-model-id='{{:id}}' id='{{:id}}'>
      <ul class='tiles-container'>
        <!-- TODO: most likely tiles should be rendered using the render method of tile class -->
        {{for tiles}}
          <li class='tile' data-model-id='{{:id}}'></li>
        {{/for}}
      </ul>
    </li>
  </script>

  <script id='scene-tab' type='text/x-jrender'>
    <li data-model-id='{{:id}}' data-model-name='Scene'><a data-toggle='tab' href='#{{:id}}'>{{:name}}</a></li>
  </script>

  <script id='scene-container' type='text/x-jrender'>
    <div class="tab-pane" id="{{:id}}" data-model-id="{{:id}}">
      <ul class="floor-tabs nav nav-tabs" id='floor-tabs-{{:id}}'></ul>
      <ul class='tab-content floor-containers' id='floor-containers-{{:id}}'></ul>
    </div>
  </script>

  <script id='floor-tab' type='text/x-jrender'>
    <li data-model-id='{{:id}}' data-model-name='Floor'><a data-toggle='tab' href='#{{:id}}'>{{:name}}</a></li>
  </script>

  <script id='floor-container' type='text/x-jrender'>
    <li class='floor-container tab-pane' data-model-id='{{:id}}' id='{{:id}}'>
      <canvas width='{{:width}}' height='{{:height}}'></canvas>
    </li>
  </script>
  <!-- / TEMPLATES -->

  <!-- CONTEXT MENUS -->
  <ul id="tileset-tab-context" class="dropdown-menu" role="menu" style="display:none" >
    <li><a tabindex="-1" href="#" data-action='remove'>Remove</a></li>
    <li class='disabled'><a tabindex="-1" href="#" data-action='edit'>Edit</a></li>
  </ul>

  <ul id="floor-tab-context" class="dropdown-menu" role="menu" style="display:none" >
    <li><a tabindex="-1" href="#" data-action='remove'>Remove</a></li>
    <li class='disabled'><a tabindex="-1" href="#" data-action='edit'>Edit</a></li>
  </ul>

  <ul id="scene-pill-context" class="dropdown-menu" role="menu" style="display:none" >
    <li><a tabindex="-1" href="#" data-action='remove'>Remove</a></li>
    <li class='disabled'><a tabindex="-1" href="#" data-action='edit'>Edit</a></li>
  </ul>
  <!-- / CONTEXT MENUS -->

  <!-- MODALS -->
  <!-- Button trigger modal -->
  <!-- <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
    Launch demo modal
  </button> -->

  <!-- Modal -->
  <div class="modal fade" id="export-as-json-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <textarea></textarea>
        </div>
      </div>
    </div>
  </div>
  <!-- / MODALS -->
</body>
</html>
